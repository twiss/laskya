(function(h){function b(a){var f=this,c,d=a.data||{};if(d.elem)f=a.dragTarget=d.elem,a.dragProxy=e.proxy||f,a.cursorOffsetX=d.pageX-d.left,a.cursorOffsetY=d.pageY-d.top,a.offsetX=a.pageX-a.cursorOffsetX,a.offsetY=a.pageY-a.cursorOffsetY;else if(e.dragging||0<d.which&&a.which!=d.which||h(a.target).is(d.not))return;switch(a.type){case "mousedown":return h.extend(d,h(f).offset(),{elem:f,target:a.target,pageX:a.pageX,pageY:a.pageY}),i.add(document,"mousemove mouseup",b,d),l(f,!1),e.dragging=null,!1;case !e.dragging&&
"mousemove":if(Math.pow(a.pageX-d.pageX,2)+Math.pow(a.pageY-d.pageY,2)<d.distance)break;a.target=d.target;c=g(a,"dragstart",f);!1!==c&&(e.dragging=f,e.proxy=a.dragProxy=h(c||f)[0]);case "mousemove":if(e.dragging){c=g(a,"drag",f);j.drop&&(j.drop.allowed=!1!==c,j.drop.handler(a));if(!1!==c)break;a.type="mouseup"}case "mouseup":i.remove(document,"mousemove mouseup",b),e.dragging&&(j.drop&&j.drop.handler(a),g(a,"dragend",f)),l(f,!0),e.dragging=e.proxy=d.elem=!1}return!0}function g(a,b,c){a.type=b;b=h.event.handle.call(c,
a);return!1===b?!1:b||a.result}function c(){return!1===e.dragging}function l(a,b){a&&(a.unselectable=b?"off":"on",a.onselectstart=function(){return b},a.style&&(a.style.MozUserSelect=b?"":"none"))}h.fn.drag=function(a,b,c){b&&this.bind("dragstart",a);c&&this.bind("dragend",c);return!a?this.trigger("drag"):this.bind("drag",b?b:a)};var i=h.event,j=i.special,e=j.drag={not:":input",distance:0,which:1,dragging:!1,setup:function(a){a=h.extend({distance:e.distance,which:e.which,not:e.not},a||{});a.distance=
Math.pow(a.distance,2);i.add(this,"mousedown",b,a);this.attachEvent&&this.attachEvent("ondragstart",c)},teardown:function(){i.remove(this,"mousedown",b);this===e.dragging&&(e.dragging=e.proxy=!1);l(this,!0);this.detachEvent&&this.detachEvent("ondragstart",c)}};j.dragstart=j.dragend={setup:function(){},teardown:function(){}}})(jQuery);
(function(h){function b(b){var g=[].slice.call(arguments,1),i=0,b=h.event.fix(b||window.event);b.type="mousewheel";b.wheelDelta&&(i=b.wheelDelta/120);b.detail&&(i=-b.detail/3);g.unshift(b,i);return h.event.handle.apply(this,g)}var g=["DOMMouseScroll","mousewheel"];h.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var c=g.length;c;)this.addEventListener(g[--c],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var c=g.length;c;)this.removeEventListener(g[--c],
b,!1);else this.onmousewheel=null}};h.fn.extend({mousewheel:function(b){return b?this.bind("mousewheel",b):this.trigger("mousewheel")},unmousewheel:function(b){return this.unbind("mousewheel",b)}})})(jQuery);
(function(h){h.plot.plugins.push({init:function(b){function g(d,a){var c=b.offset();a?(c.left+=b.width()-d.originalEvent.pageX,c.top+=b.height()-d.originalEvent.pageY,b.zoomOut({center:c})):(c.left=d.originalEvent.pageX-c.left,c.top=d.originalEvent.pageY-c.top,b.zoom({center:c}))}function c(b){g(b,0>b.originalEvent.wheelDelta);return!1}function l(d){console.log(d);if(1!=d.which)return!1;var c=b.getPlaceholder().css("cursor");c&&(e=c);b.getPlaceholder().css("cursor",b.getOptions().pan.cursor);a=d.pageX;
f=d.pageY}function i(d){var c=b.getOptions().pan.frameRate;!k&&c&&(k=setTimeout(function(){b.pan({left:a-d.pageX,top:f-d.pageY});a=d.pageX;f=d.pageY;k=null},1E3*(1/c)))}function j(d){k&&(clearTimeout(k),k=null);b.getPlaceholder().css("cursor",e);b.pan({left:a-d.pageX,top:f-d.pageY})}var e="default",a=0,f=0,k=null;b.zoomOut=function(d){d||(d={});d.amount||(d.amount=b.getOptions().zoom.amount);d.amount=1/d.amount;b.zoom(d)};b.zoom=function(d){d||(d={});var a=d.center,c=d.amount||b.getOptions().zoom.amount,
e=b.width(),f=b.height();a||(a={left:e/2,top:f/2});var g=a.left/e,i=a.top/f,j={x:{min:a.left-g*e/c,max:a.left+(1-g)*e/c},y:{min:a.top-i*f/c,max:a.top+(1-i)*f/c}};h.each(b.getAxes(),function(b,a){var d=a.options,c=j[a.direction].min,e=j[a.direction].max,f=d.zoomRange;if(!1!==f){c=a.c2p(c);e=a.c2p(e);if(c>e)var g=c,c=e,e=g;g=e-c;if(!f||!(null!=f[0]&&g<f[0]||null!=f[1]&&g>f[1]))d.min=c,d.max=e}});b.setupGrid();b.draw();d.preventEvent||b.getPlaceholder().trigger("plotzoom",[b])};b.pan=function(a){var c=
{x:+a.left,y:+a.top};isNaN(c.x)&&(c.x=0);isNaN(c.y)&&(c.y=0);h.each(b.getAxes(),function(a,b){var d=b.options,e,f,g=c[b.direction];e=b.c2p(b.p2c(b.min)+g);f=b.c2p(b.p2c(b.max)+g);var h=d.panRange;if(h!==false){if(h){if(h[0]!=null&&h[0]>e){g=h[0]-e;e=e+g;f=f+g}if(h[1]!=null&&h[1]<f){g=h[1]-f;e=e+g;f=f+g}}d.min=e;d.max=f}});b.setupGrid();b.draw();a.preventEvent||b.getPlaceholder().trigger("plotpan",[b])};b.hooks.bindEvents.push(function(b,a){var e=b.getOptions();e.zoom.interactive&&(a[e.zoom.trigger](g),
a.mousewheel(c));console.log(e.pan.interactive);e.pan.interactive&&(a.bind("dragstart",{distance:10},l),a.bind("drag",i),a.bind("dragend",j))});b.hooks.shutdown.push(function(b,a){a.unbind(b.getOptions().zoom.trigger,g);a.unbind("mousewheel",c);a.unbind("dragstart",l);a.unbind("drag",i);a.unbind("dragend",j);k&&clearTimeout(k)})},options:{xaxis:{zoomRange:null,panRange:null},zoom:{interactive:!1,trigger:"dblclick",amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:20}},name:"navigate",version:"1.3"})})(jQuery);